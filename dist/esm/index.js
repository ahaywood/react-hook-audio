import{useState as r,useRef as e}from"react";var t=function(t,n){var u=r(1),a=u[0],c=u[1],o=r(!1),i=o[0],l=o[1],f=r(0),b=f[0],m=f[1],v=r(0),d=v[0],y=v[1],p=e(null),s=function(){y(Number(n.current.value))},k=function(){t.current&&(null==p?void 0:p.current)&&(t.current.pause(),cancelAnimationFrame(p.current))},h=function(){if(n.current.value=Math.floor(t.current.currentTime).toString(),n.current.style.setProperty("--seek-before-width","".concat(Number(n.current.value)/b*100,"%")),s(),Number(n.current.value)===b)return n.current.value="0",s(),void k();p.current=requestAnimationFrame(h)},g=function(){t.current.play(),p.current=requestAnimationFrame(h)},N=function(){var r=i;l(!r),r?k():g()},T=function(){t.current.currentTime=Number(n.current.value),y(Number(n.current.value)),n.current.style.setProperty("--seek-before-width","".concat(Number(n.current.value)/b*100,"%"))},P=function(r){n.current.value=r.toString(),s(),T()};return{backThirty:function(){P(Number(n.current.value)-30)},changeAudioToPlayhead:T,changePlaybackSpeed:function(){switch(a){case 1:t.current.playbackRate=1.2,c(1.2);break;case 1.2:t.current.playbackRate=1.5,c(1.5);break;case 1.5:t.current.playbackRate=1.7,c(1.7);break;case 1.7:t.current.playbackRate=2,c(2);break;default:t.current.playbackRate=1,c(1)}},currentTime:d,duration:b,forwardThirty:function(){P(Number(n.current.value)+30)},isPlaying:i,onLoadedMetadata:function(){var r;if(null===(r=null==t?void 0:t.current)||void 0===r?void 0:r.duration){var e=Math.floor(t.current.duration);m(e),n.current.max=e.toString()}},play:g,skipToTime:function(r){P(r),g()},speed:a,tapSpaceBar:function(r){32===r.keyCode&&N()},togglePlaying:N}};export{t as useAudioPlayer};
//# sourceMappingURL=index.js.map

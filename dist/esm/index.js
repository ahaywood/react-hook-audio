import{useState as r,useRef as e}from"react";var t=function(t,n){var u=r(1),c=u[0],a=u[1],i=r(!1),o=i[0],l=i[1],f=r(0),b=f[0],m=f[1],y=r(0),p=y[0],s=y[1],k=e(),v=function(){n.current&&s(Number(n.current.value))},d=function(){t.current&&k.current&&(t.current.pause(),cancelAnimationFrame(k.current))},g=function(){n.current&&t.current&&(n.current.value=String(Math.floor(t.current.currentTime)),n.current.style.setProperty("--seek-before-width","".concat(Number(n.current.value)/b*100,"%")),v(),Number(n.current.value)===b)?n.current&&(n.current.value=String(0),v(),d()):k.current&&(k.current=requestAnimationFrame(g))},h=function(){t.current&&t.current.play(),k.current=requestAnimationFrame(g)},N=function(){var r=o;l(!r),r?d():h()},T=function(){t.current&&n.current&&(t.current.currentTime=Number(n.current.value),s(Number(n.current.value)),n.current.style.setProperty("--seek-before-width","".concat(Number(n.current.value)/b*100,"%")))},P=function(r){n.current&&(n.current.value=String(r)),v(),T()};return{backThirty:function(){n.current&&P(Number(n.current.value)-30)},changeAudioToPlayhead:T,changePlaybackSpeed:function(){if(t.current)switch(c){case 1:t.current.playbackRate=1.2,a(1.2);break;case 1.2:t.current.playbackRate=1.5,a(1.5);break;case 1.5:t.current.playbackRate=1.7,a(1.7);break;case 1.7:t.current.playbackRate=2,a(2);break;default:t.current.playbackRate=1,a(1)}},currentTime:p,duration:b,forwardThirty:function(){n.current&&P(Number(n.current.value)+30)},isPlaying:o,onLoadedMetadata:function(){if(t.current&&n.current){var r=Math.floor(t.current.duration);m(r),n.current.max=String(r)}},play:h,skipToTime:function(r){P(r),h()},speed:c,tapSpaceBar:function(r){32===r.keyCode&&N()},togglePlaying:N}};export{t as useAudioPlayer};
//# sourceMappingURL=index.js.map

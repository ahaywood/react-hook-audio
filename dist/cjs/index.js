"use strict";var e=require("react");exports.useAudioPlayer=function(r,t){var u=e.useState(1),n=u[0],a=u[1],c=e.useState(!1),i=c[0],o=c[1],l=e.useState(0),s=l[0],f=l[1],b=e.useState(0),d=b[0],v=b[1],m=e.useRef(null),y=function(){v(Number(t.current.value))},p=function(){r.current&&(null==m?void 0:m.current)&&(r.current.pause(),cancelAnimationFrame(m.current))},k=function(){if(t.current.value=Math.floor(r.current.currentTime).toString(),t.current.style.setProperty("--seek-before-width","".concat(Number(t.current.value)/s*100,"%")),y(),Number(t.current.value)===s)return t.current.value="0",y(),void p();m.current=requestAnimationFrame(k)},h=function(){r.current.play(),m.current=requestAnimationFrame(k)},g=function(){var e=i;o(!e),e?p():h()},S=function(){r.current.currentTime=Number(t.current.value),v(Number(t.current.value)),t.current.style.setProperty("--seek-before-width","".concat(Number(t.current.value)/s*100,"%"))},N=function(e){t.current.value=e.toString(),y(),S()};return{backThirty:function(){N(Number(t.current.value)-30)},changeAudioToPlayhead:S,changePlaybackSpeed:function(){switch(n){case 1:r.current.playbackRate=1.2,a(1.2);break;case 1.2:r.current.playbackRate=1.5,a(1.5);break;case 1.5:r.current.playbackRate=1.7,a(1.7);break;case 1.7:r.current.playbackRate=2,a(2);break;default:r.current.playbackRate=1,a(1)}},currentTime:d,duration:s,forwardThirty:function(){N(Number(t.current.value)+30)},isPlaying:i,onLoadedMetadata:function(){var e;if(null===(e=null==r?void 0:r.current)||void 0===e?void 0:e.duration){var u=Math.floor(r.current.duration);f(u),t.current.max=u.toString()}},play:h,skipToTime:function(e){N(e),h()},speed:n,tapSpaceBar:function(e){32===e.keyCode&&g()},togglePlaying:g}};
//# sourceMappingURL=index.js.map

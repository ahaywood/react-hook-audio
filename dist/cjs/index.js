"use strict";var r=require("react");exports.useAudioPlayer=function(e,t){var u=r.useState(1),n=u[0],c=u[1],a=r.useState(!1),i=a[0],o=a[1],l=r.useState(0),s=l[0],f=l[1],b=r.useState(0),m=b[0],y=b[1],p=r.useRef(),d=function(){t.current&&y(Number(t.current.value))},k=function(){e.current&&p.current&&(e.current.pause(),cancelAnimationFrame(p.current))},v=function(){t.current&&e.current&&(t.current.value=String(Math.floor(e.current.currentTime)),t.current.style.setProperty("--seek-before-width","".concat(Number(t.current.value)/s*100,"%")),d(),Number(t.current.value)===s)?t.current&&(t.current.value=String(0),d(),k()):p.current&&(p.current=requestAnimationFrame(v))},g=function(){e.current&&e.current.play(),p.current=requestAnimationFrame(v)},h=function(){var r=i;o(!r),r?k():g()},S=function(){e.current&&t.current&&(e.current.currentTime=Number(t.current.value),y(Number(t.current.value)),t.current.style.setProperty("--seek-before-width","".concat(Number(t.current.value)/s*100,"%")))},N=function(r){t.current&&(t.current.value=String(r)),d(),S()};return{backThirty:function(){t.current&&N(Number(t.current.value)-30)},changeAudioToPlayhead:S,changePlaybackSpeed:function(){if(e.current)switch(n){case 1:e.current.playbackRate=1.2,c(1.2);break;case 1.2:e.current.playbackRate=1.5,c(1.5);break;case 1.5:e.current.playbackRate=1.7,c(1.7);break;case 1.7:e.current.playbackRate=2,c(2);break;default:e.current.playbackRate=1,c(1)}},currentTime:m,duration:s,forwardThirty:function(){t.current&&N(Number(t.current.value)+30)},isPlaying:i,onLoadedMetadata:function(){if(e.current&&t.current){var r=Math.floor(e.current.duration);f(r),t.current.max=String(r)}},play:g,skipToTime:function(r){N(r),g()},speed:n,tapSpaceBar:function(r){32===r.keyCode&&h()},togglePlaying:h}};
//# sourceMappingURL=index.js.map
